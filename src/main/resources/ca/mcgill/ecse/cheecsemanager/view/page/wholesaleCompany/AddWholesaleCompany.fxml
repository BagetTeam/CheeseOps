<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import ca.mcgill.ecse.cheecsemanager.fxml.components.*?>

<StackPane
    fx:controller="ca.mcgill.ecse.cheecsemanager.fxml.controllers.wholesaleCompany.AddWholesaleCompanyController"
    prefHeight="640.0" 
    prefWidth="980.0"
    style="-fx-background-color: rgba(0, 0, 0, 0.5);"
    xmlns="http://javafx.com/javafx/21"
    xmlns:fx="http://javafx.com/fxml/1">
    
    <!-- Dialog Box -->
    <VBox 
        style="-fx-background-color: -color-darker-bg; -fx-background-radius: 12; -fx-padding: 30; -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.4), 30, 0, 0, 10);"
        spacing="25"
        prefWidth="500"
        prefHeight="580"
        minWidth="500"
        minHeight="580"
        maxWidth="500"
        maxHeight="580">
        
        <!-- Header with X button -->
        <HBox alignment="CENTER_LEFT" spacing="10">
            <StyledButton 
                variant="DEFAULT" 
                size="SM"
                onAction="#handleClose">
                <graphic>
                    <Icon icon="X" />
                </graphic>
            </StyledButton>
            <Label text="Add Wholesale Company" 
                   styleClass="dialog-title"
                   style="-fx-font-size: 22px; -fx-font-weight: bold; -fx-text-fill: -color-fg;" />
        </HBox>
        
        <!-- Upload Photo Section -->
        <VBox alignment="CENTER" 
              style="-fx-border-color: -color-muted; -fx-border-width: 2; -fx-border-style: dashed; -fx-border-radius: 8; -fx-background-color: transparent; -fx-padding: 40 60;">
            <StackPane prefWidth="60" prefHeight="60">
                <Icon icon="Upload" style="-fx-scale-x: 2; -fx-scale-y: 2; -fx-stroke: -color-fg;" />
            </StackPane>
            <Label text="Upload Photo" 
                   style="-fx-text-fill: -color-muted; -fx-font-size: 16px; -fx-padding: 10 0 5 0;" />
            <StyledButton text="Choose File" variant="DEFAULT" size="SM" style="-fx-text-fill: -color-secondary;" />
        </VBox>
        
        <!-- Name Field -->
        <VBox spacing="8">
            <Label text="Name" 
                   style="-fx-text-fill: -color-fg; -fx-font-size: 14px;" />
            <TextField
                fx:id="nameField"
                promptText="Ewen's company"
                style="-fx-background-color: -color-bg; -fx-text-fill: -color-fg; -fx-prompt-text-fill: -color-muted; -fx-background-radius: 8; -fx-padding: 12; -fx-font-size: 14px; -fx-border-color: transparent;" />
        </VBox>
        
        <!-- Address Field -->
        <VBox spacing="8">
            <HBox spacing="5">
                <Label text="Address" 
                       style="-fx-text-fill: -color-fg; -fx-font-size: 14px;" />
                <Label text="*" 
                       style="-fx-text-fill: -color-destructive; -fx-font-size: 14px;" />
            </HBox>
            <TextField
                fx:id="addressField"
                promptText="123 Rue Sigma"
                style="-fx-background-color: -color-bg; -fx-text-fill: -color-fg; -fx-prompt-text-fill: -color-muted; -fx-background-radius: 8; -fx-padding: 12; -fx-font-size: 14px; -fx-border-color: transparent;" />
        </VBox>

        <!-- Error Message from backend -->
        <HBox fx:id="errorContainer" visible="false" managed="false" spacing="8" alignment="CENTER_LEFT" 
              style="-fx-background-color: derive(-color-destructive, -70%); -fx-border-color: -color-destructive; -fx-border-width: 1; -fx-background-radius: 6; -fx-border-radius: 6; -fx-padding: 10 12;">
            <Icon icon="Error"/>
            <Label fx:id="errorLabel" 
                   text="" 
                   wrapText="true"
                   style="-fx-text-fill: -color-destructive; -fx-font-size: 13px;" />
        </HBox>
        <!-- Buttons -->
        <HBox spacing="15" alignment="CENTER">
            <StyledButton
                text="Cancel"
                variant="MUTED" 
                size="SM"
                onAction="#handleClose"/>
            <StyledButton
                text="Add"
                variant="PRIMARY"
                size="SM"
                onAction="#handleSave"
            />
        </HBox>
        
    </VBox>
    
</StackPane>